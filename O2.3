#include<iostream>
using namespace std;

const int MAXA = 300;

void Nhap(int a[MAXA][MAXA], int& n, int& m)
{
	cout << "Nhap n: "; cin >> n;
	cout << "Nhap m: "; cin >> m;

	cout << "Nhap ma tran a: " << endl;
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			cout << "[a" << i << "][" << j << "]= ";
			cin >> a[i][j];
		}
	}
}

void TinhToan(int a[MAXA][MAXA], int n, int m, int k)
{
	int Tong = 0;
	cout << "Nhap K: "; cin >> k;
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			Tong += a[i][j];
		}
	}

	double TB = (double)Tong / (n * m);

	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			if (a[i][j] > k) a[i][j] = TB;
		}
	}

	cout << "Ma tran sau khi loc nhieu: " << endl;
	for (int i = 0; i < n; i++)
	{
		for (int j = 0; j < m; j++)
		{
			cout << a[i][j] << " ";
		}
		cout << endl;
	}

}

int main()
{
	int a[MAXA][MAXA], n, m, k;
	Nhap(a, n, m);
	TinhToan(a, n, m, k);
	return 0;
}




